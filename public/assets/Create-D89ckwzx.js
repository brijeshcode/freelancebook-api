import{A as e,B as t,C as n,D as r,G as i,I as a,J as o,K as ee,N as s,O as c,P as l,Q as u,R as d,S as f,U as p,f as m,j as te,l as ne,m as re,r as h,s as g,t as ie,u as _,v,w as y,x as ae,y as b,z as x}from"./index-Bi8CIbZL.js";import{b as S}from"./createLucideIcon-DepPGo-R.js";import{b as oe}from"./arrow-left-CKqWvwl9.js";import{b as se}from"./loader-circle-D6LExQqK.js";import{b as C}from"./plus-CqWY6zRn.js";import{b as ce}from"./trash-2-6XQjUWlV.js";const le=S(`package`,[[`path`,{d:`M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z`,key:`1a0edw`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}],[`polyline`,{points:`3.29 7 12 12 20.71 7`,key:`ousv84`}],[`path`,{d:`m7.5 4.27 9 5.15`,key:`1c824w`}]]),ue={class:`space-y-6`},de={class:`flex flex-col sm:flex-row sm:items-center sm:justify-between`},fe={class:`mt-4 sm:mt-0`},pe={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},me={class:`px-4 py-5 sm:p-6`},he={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},ge=[`value`],w={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},T=[`disabled`],E=[`value`],D={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},O=[`min`],k={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},A={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},j={class:`mt-6`},M={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},N={class:`px-4 py-5 sm:p-6`},P={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},F={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},I={class:`px-4 py-5 sm:p-6`},L={class:`flex items-center justify-between mb-4`},_e={key:0,class:`text-center py-8`},ve={class:`mt-6`},ye={key:1,class:`space-y-4`},be={class:`flex items-center justify-between mb-3`},xe={class:`text-sm font-medium text-gray-900 dark:text-white`},Se=[`onClick`],Ce={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4`},we={class:`lg:col-span-2`},Te=[`onUpdate:modelValue`,`disabled`,`onChange`],Ee=[`value`],De=[`onUpdate:modelValue`],Oe={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ke=[`onUpdate:modelValue`],Ae={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},je={class:`mt-4`},Me=[`onUpdate:modelValue`],Ne={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Pe={class:`mt-4 grid grid-cols-1 md:grid-cols-2 gap-4`},Fe=[`onUpdate:modelValue`],Ie=[`onUpdate:modelValue`,`min`],R={class:`mt-4`},Le=[`onUpdate:modelValue`],Re={class:`mt-4 text-right`},ze={class:`text-sm font-medium text-gray-900 dark:text-white`},Be={key:2,class:`mt-2 text-sm text-red-600 dark:text-red-400`},Ve={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},He={class:`px-4 py-5 sm:p-6`},Ue={class:`space-y-3`},We={class:`flex justify-between`},Ge={class:`text-sm font-medium text-gray-900 dark:text-white`},Ke={key:0,class:`flex justify-between`},qe={class:`text-sm text-gray-500 dark:text-gray-400`},Je={class:`text-sm font-medium text-gray-900 dark:text-white`},Ye={class:`border-t border-gray-200 dark:border-gray-700 pt-3`},Xe={class:`flex justify-between`},Ze={class:`text-base font-medium text-gray-900 dark:text-white`},Qe={key:1,class:`text-sm text-gray-500 dark:text-gray-400`},$e={class:`flex flex-col sm:flex-row gap-3 sm:justify-end`},et=[`disabled`];var z=r({__name:`Create`,setup(r){let S=re(),z=ne(),B=te(),V=u(!1),H=u([]),U=u([]),W=u([]),G=u({}),K=l({client_id:``,project_id:``,invoice_date:new Date().toISOString().split(`T`)[0],due_date:``,notes:``,currency:`USD`,exchange_rate:1,tax_rate:0,tax_label:``,items:[]}),q=v(()=>K.items.reduce((e,t)=>e+t.quantity*t.unit_price,0)),J=v(()=>q.value*(K.tax_rate/100)),Y=v(()=>q.value+J.value),tt=async()=>{try{let e=await m.get(`/clients`);H.value=e.data.data}catch{B.error(`Failed to load clients`,{title:`Error`})}},X=async()=>{K.project_id=``,U.value=[],W.value=[],K.client_id&&await Promise.all([nt(),rt()])},nt=async()=>{try{let e=await m.get(`/projects?client_id=${K.client_id}`);U.value=e.data.data}catch(e){console.error(`Failed to load client projects:`,e)}},rt=async()=>{try{let e=await m.get(`/services?client_id=${K.client_id}`);W.value=e.data.data}catch(e){console.error(`Failed to load client services:`,e)}},it=async(e,t)=>{if(!t)return;let n=W.value.find(e=>e.id===parseInt(t));n&&(K.items[e].description=n.title,K.items[e].unit_price=n.total_amount,K.items[e].quantity=1,K.currency||=n.currency)},Z=()=>{K.items.push({service_id:``,description:``,quantity:1,unit_price:0,service_period_start:``,service_period_end:``,notes:``})},at=e=>{K.items.splice(e,1)},Q=()=>{},$=e=>e.toLocaleString(`en-US`,{minimumFractionDigits:2,maximumFractionDigits:2}),ot=async()=>{V.value=!0,G.value={};try{let e=await m.post(`/invoices`,K);B.success(`Invoice created successfully`,{title:`Success`}),S.push(`/invoices/${e.data.data.id}`)}catch(e){e.response?.status===422?(G.value=e.response.data.errors||{},B.error(`Please check the form for errors`,{title:`Validation Error`})):B.error(`Failed to create invoice`,{title:`Error`})}finally{V.value=!1}},st=async e=>{try{let t=await m.get(`/invoices/${e}`),n=t.data.data;K.client_id=n.client_id,K.project_id=n.project_id,K.invoice_date=new Date().toISOString().split(`T`)[0],K.due_date=``,K.notes=n.notes,K.currency=n.currency,K.exchange_rate=n.exchange_rate,K.tax_rate=n.tax_rate,K.tax_label=n.tax_label,K.items=n.items.map(e=>({service_id:e.service_id||``,description:e.description,quantity:e.quantity,unit_price:e.unit_price,service_period_start:``,service_period_end:``,notes:e.notes||``})),K.client_id&&await X(),B.success(`Invoice copied successfully`,{title:`Success`})}catch{B.error(`Failed to copy invoice`,{title:`Error`})}};return i(async()=>{await tt(),Z();let e=z.query.copy;e&&await st(e)}),(r,i)=>{let l=ee(`router-link`);return a(),x(`div`,ue,[y(`div`,de,[i[10]||=y(`div`,null,[y(`h1`,{class:`text-2xl font-bold text-gray-900 dark:text-white`},`Create Invoice`),y(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` Create a new invoice for your client `)],-1),y(`div`,fe,[n(l,{to:`/invoices`,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},{default:s(()=>[n(d(oe),{class:`h-5 w-5 mr-2`}),i[9]||=t(` Back to Invoices `,-1)]),_:1,__:[9]})])]),y(`form`,{onSubmit:ie(ot,[`prevent`]),class:`space-y-6`},[y(`div`,pe,[y(`div`,me,[i[22]||=y(`h3`,{class:`text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4`},` Invoice Details `,-1),y(`div`,he,[y(`div`,null,[i[12]||=y(`label`,{for:`client_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[t(` Client `),y(`span`,{class:`text-red-500`},`*`)],-1),c(y(`select`,{id:`client_id`,"onUpdate:modelValue":i[0]||=e=>K.client_id=e,class:f([`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,G.value.client_id?`border-red-300 dark:border-red-600 focus:ring-red-500 focus:border-red-500`:`border-gray-300 dark:border-gray-600`]),onChange:X},[i[11]||=y(`option`,{value:``},`Select a client`,-1),(a(!0),x(_,null,o(H.value,e=>(a(),x(`option`,{key:e.id,value:e.id},p(e.name),9,ge))),128))],34),[[h,K.client_id]]),G.value.client_id?(a(),x(`p`,w,p(G.value.client_id[0]),1)):b(``,!0)]),y(`div`,null,[i[14]||=y(`label`,{for:`project_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Project (Optional) `,-1),c(y(`select`,{id:`project_id`,"onUpdate:modelValue":i[1]||=e=>K.project_id=e,disabled:!K.client_id||U.value.length===0,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`},[i[13]||=y(`option`,{value:``},`No project`,-1),(a(!0),x(_,null,o(U.value,e=>(a(),x(`option`,{key:e.id,value:e.id},p(e.name),9,E))),128))],8,T),[[h,K.project_id]])]),y(`div`,null,[i[15]||=y(`label`,{for:`invoice_date`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[t(` Invoice Date `),y(`span`,{class:`text-red-500`},`*`)],-1),c(y(`input`,{id:`invoice_date`,"onUpdate:modelValue":i[2]||=e=>K.invoice_date=e,type:`date`,class:f([`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,G.value.invoice_date?`border-red-300 dark:border-red-600 focus:ring-red-500 focus:border-red-500`:`border-gray-300 dark:border-gray-600`])},null,2),[[g,K.invoice_date]]),G.value.invoice_date?(a(),x(`p`,D,p(G.value.invoice_date[0]),1)):b(``,!0)]),y(`div`,null,[i[16]||=y(`label`,{for:`due_date`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Due Date (Optional) `,-1),c(y(`input`,{id:`due_date`,"onUpdate:modelValue":i[3]||=e=>K.due_date=e,type:`date`,min:K.invoice_date,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},null,8,O),[[g,K.due_date]])]),y(`div`,null,[i[18]||=y(`label`,{for:`currency`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[t(` Currency `),y(`span`,{class:`text-red-500`},`*`)],-1),c(y(`select`,{id:`currency`,"onUpdate:modelValue":i[4]||=e=>K.currency=e,class:f([`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,G.value.currency?`border-red-300 dark:border-red-600 focus:ring-red-500 focus:border-red-500`:`border-gray-300 dark:border-gray-600`])},i[17]||=[e(`<option value="">Select currency</option><option value="USD">USD - US Dollar</option><option value="EUR">EUR - Euro</option><option value="GBP">GBP - British Pound</option><option value="INR">INR - Indian Rupee</option><option value="CAD">CAD - Canadian Dollar</option><option value="AUD">AUD - Australian Dollar</option>`,7)],2),[[h,K.currency]]),G.value.currency?(a(),x(`p`,k,p(G.value.currency[0]),1)):b(``,!0)]),y(`div`,null,[i[19]||=y(`label`,{for:`exchange_rate`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[t(` Exchange Rate `),y(`span`,{class:`text-red-500`},`*`)],-1),c(y(`input`,{id:`exchange_rate`,"onUpdate:modelValue":i[5]||=e=>K.exchange_rate=e,type:`number`,step:`0.000001`,min:`0.000001`,max:`9999.999999`,class:f([`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,G.value.exchange_rate?`border-red-300 dark:border-red-600 focus:ring-red-500 focus:border-red-500`:`border-gray-300 dark:border-gray-600`]),placeholder:`1.000000`},null,2),[[g,K.exchange_rate]]),i[20]||=y(`p`,{class:`mt-1 text-xs text-gray-500 dark:text-gray-400`},` Rate to convert to your base currency `,-1),G.value.exchange_rate?(a(),x(`p`,A,p(G.value.exchange_rate[0]),1)):b(``,!0)])]),y(`div`,j,[i[21]||=y(`label`,{for:`notes`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Notes (Optional) `,-1),c(y(`textarea`,{id:`notes`,"onUpdate:modelValue":i[6]||=e=>K.notes=e,rows:`3`,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,placeholder:`Additional notes for this invoice...`},null,512),[[g,K.notes]])])])]),y(`div`,M,[y(`div`,N,[i[25]||=y(`h3`,{class:`text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4`},` Tax Configuration `,-1),y(`div`,P,[y(`div`,null,[i[23]||=y(`label`,{for:`tax_rate`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Tax Rate (%) `,-1),c(y(`input`,{id:`tax_rate`,"onUpdate:modelValue":i[7]||=e=>K.tax_rate=e,type:`number`,step:`0.01`,min:`0`,max:`100`,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,placeholder:`0.00`,onInput:Q},null,544),[[g,K.tax_rate]])]),y(`div`,null,[i[24]||=y(`label`,{for:`tax_label`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Tax Label `,-1),c(y(`input`,{id:`tax_label`,"onUpdate:modelValue":i[8]||=e=>K.tax_label=e,type:`text`,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,placeholder:`e.g., VAT, GST, Sales Tax`},null,512),[[g,K.tax_label]])])])])]),y(`div`,F,[y(`div`,I,[y(`div`,L,[i[27]||=y(`h3`,{class:`text-lg leading-6 font-medium text-gray-900 dark:text-white`},` Invoice Items `,-1),y(`button`,{type:`button`,onClick:Z,class:`inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800 transition-colors duration-200`},[n(d(C),{class:`h-4 w-4 mr-2`}),i[26]||=t(` Add Item `,-1)])]),K.items.length===0?(a(),x(`div`,_e,[n(d(le),{class:`h-12 w-12 mx-auto text-gray-400`}),i[29]||=y(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},`No items added`,-1),i[30]||=y(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` Add at least one item to create the invoice. `,-1),y(`div`,ve,[y(`button`,{type:`button`,onClick:Z,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[n(d(C),{class:`h-5 w-5 mr-2`}),i[28]||=t(` Add Your First Item `,-1)])])])):(a(),x(`div`,ye,[(a(!0),x(_,null,o(K.items,(e,r)=>(a(),x(`div`,{key:r,class:`border border-gray-200 dark:border-gray-700 rounded-lg p-4`},[y(`div`,be,[y(`h4`,xe,` Item `+p(r+1),1),y(`button`,{type:`button`,onClick:e=>at(r),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`},[n(d(ce),{class:`h-4 w-4`})],8,Se)]),y(`div`,Ce,[y(`div`,we,[i[32]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Service (Optional) `,-1),c(y(`select`,{"onUpdate:modelValue":t=>e.service_id=t,disabled:!K.client_id||W.value.length===0,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,onChange:t=>it(r,e.service_id)},[i[31]||=y(`option`,{value:``},`Select a service`,-1),(a(!0),x(_,null,o(W.value,e=>(a(),x(`option`,{key:e.id,value:e.id},p(e.title)+` (`+p(e.currency)+` `+p($(e.total_amount))+`) `,9,Ee))),128))],40,Te),[[h,e.service_id]])]),y(`div`,null,[i[33]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},[t(` Quantity `),y(`span`,{class:`text-red-500`},`*`)],-1),c(y(`input`,{"onUpdate:modelValue":t=>e.quantity=t,type:`number`,min:`1`,class:f([`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,G.value[`items.${r}.quantity`]?`border-red-300 dark:border-red-600 focus:ring-red-500 focus:border-red-500`:`border-gray-300 dark:border-gray-600`]),onInput:Q},null,42,De),[[g,e.quantity]]),G.value[`items.${r}.quantity`]?(a(),x(`p`,Oe,p(G.value[`items.${r}.quantity`][0]),1)):b(``,!0)]),y(`div`,null,[i[34]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},[t(` Unit Price `),y(`span`,{class:`text-red-500`},`*`)],-1),c(y(`input`,{"onUpdate:modelValue":t=>e.unit_price=t,type:`number`,step:`0.01`,min:`0`,class:f([`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,G.value[`items.${r}.unit_price`]?`border-red-300 dark:border-red-600 focus:ring-red-500 focus:border-red-500`:`border-gray-300 dark:border-gray-600`]),onInput:Q},null,42,ke),[[g,e.unit_price]]),G.value[`items.${r}.unit_price`]?(a(),x(`p`,Ae,p(G.value[`items.${r}.unit_price`][0]),1)):b(``,!0)])]),y(`div`,je,[i[35]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},[t(` Description `),y(`span`,{class:`text-red-500`},`*`)],-1),c(y(`input`,{"onUpdate:modelValue":t=>e.description=t,type:`text`,class:f([`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,G.value[`items.${r}.description`]?`border-red-300 dark:border-red-600 focus:ring-red-500 focus:border-red-500`:`border-gray-300 dark:border-gray-600`]),placeholder:`Description of the service or product`},null,10,Me),[[g,e.description]]),G.value[`items.${r}.description`]?(a(),x(`p`,Ne,p(G.value[`items.${r}.description`][0]),1)):b(``,!0)]),y(`div`,Pe,[y(`div`,null,[i[36]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Service Period Start `,-1),c(y(`input`,{"onUpdate:modelValue":t=>e.service_period_start=t,type:`date`,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},null,8,Fe),[[g,e.service_period_start]])]),y(`div`,null,[i[37]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Service Period End `,-1),c(y(`input`,{"onUpdate:modelValue":t=>e.service_period_end=t,type:`date`,min:e.service_period_start,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},null,8,Ie),[[g,e.service_period_end]])])]),y(`div`,R,[i[38]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Item Notes `,-1),c(y(`textarea`,{"onUpdate:modelValue":t=>e.notes=t,rows:`2`,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,placeholder:`Additional notes for this item`},null,8,Le),[[g,e.notes]])]),y(`div`,Re,[y(`span`,ze,` Item Total: `+p(K.currency)+` `+p($(e.quantity*e.unit_price)),1)])]))),128))])),G.value.items?(a(),x(`p`,Be,p(G.value.items[0]),1)):b(``,!0)])]),y(`div`,Ve,[y(`div`,He,[i[41]||=y(`h3`,{class:`text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4`},` Invoice Summary `,-1),y(`div`,Ue,[y(`div`,We,[i[39]||=y(`span`,{class:`text-sm text-gray-500 dark:text-gray-400`},`Subtotal:`,-1),y(`span`,Ge,p(K.currency)+` `+p($(q.value)),1)]),K.tax_rate>0?(a(),x(`div`,Ke,[y(`span`,qe,p(K.tax_label||`Tax`)+` (`+p(K.tax_rate)+`%): `,1),y(`span`,Je,p(K.currency)+` `+p($(J.value)),1)])):b(``,!0),y(`div`,Ye,[y(`div`,Xe,[i[40]||=y(`span`,{class:`text-base font-medium text-gray-900 dark:text-white`},`Total:`,-1),y(`span`,Ze,p(K.currency)+` `+p($(Y.value)),1)])]),K.exchange_rate===1?b(``,!0):(a(),x(`div`,Qe,` Base Currency: `+p($(Y.value*K.exchange_rate)),1))])])]),y(`div`,$e,[n(l,{to:`/invoices`,class:`w-full sm:w-auto inline-flex justify-center items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},{default:s(()=>i[42]||=[t(` Cancel `,-1)]),_:1,__:[42]}),y(`button`,{type:`submit`,disabled:V.value||K.items.length===0,class:`w-full sm:w-auto inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[V.value?(a(),ae(d(se),{key:0,class:`h-4 w-4 animate-spin mr-2`})):b(``,!0),t(` `+p(V.value?`Creating...`:`Create Invoice`),1)],8,et)])],32)])}}}),B=z;export{B as default};