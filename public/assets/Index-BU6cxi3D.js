import{A as e,B as t,C as n,D as ee,G as r,I as i,J as te,K as ne,N as a,O as o,P as s,Q as c,R as l,S as re,U as u,f as d,j as ie,m as ae,r as f,s as oe,t as se,u as ce,w as p,x as le,y as m,z as h}from"./index-Bi8CIbZL.js";import"./createLucideIcon-DepPGo-R.js";import{b as ue,c as g,d as de}from"./search-DuM0IVTN.js";import{b as fe}from"./clock-BcO23CU9.js";import{b as pe}from"./eye-BkavhDxY.js";import{b as _}from"./folder-BoRHvgil.js";import{b as v}from"./loader-circle-D6LExQqK.js";import{b as me}from"./pencil-CSdZKH_X.js";import{b as y}from"./plus-CqWY6zRn.js";import{b}from"./trash-2-6XQjUWlV.js";import{b as x}from"./triangle-alert-CtO2UswF.js";const S={class:`space-y-6`},C={class:`flex flex-col sm:flex-row sm:items-center sm:justify-between`},w={class:`mt-4 sm:mt-0`},T={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},E={class:`grid grid-cols-1 md:grid-cols-4 gap-4`},D={class:`md:col-span-2`},O={class:`relative`},k={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},A={key:0,class:`p-8 text-center`},j={key:1,class:`p-8 text-center`},M={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},N={key:0,class:`mt-6`},P={key:2,class:`overflow-x-auto`},F={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},I={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},L={class:`px-6 py-4 whitespace-nowrap`},R={class:`flex items-center`},z={class:`flex-shrink-0 h-10 w-10`},he={class:`h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center`},ge={class:`ml-4`},_e={class:`text-sm font-medium text-gray-900 dark:text-white`},ve={class:`text-sm text-gray-500 dark:text-gray-400`},ye={key:0,class:`ml-2`},be={class:`px-6 py-4 whitespace-nowrap`},xe={class:`text-sm text-gray-900 dark:text-white`},Se={class:`text-sm text-gray-500 dark:text-gray-400`},Ce={class:`px-6 py-4 whitespace-nowrap`},we={class:`text-sm`},Te={key:0,class:`text-gray-900 dark:text-white`},Ee={key:1,class:`text-gray-500 dark:text-gray-400 italic`},De={class:`text-gray-500 dark:text-gray-400`},Oe={key:2,class:`text-red-600 dark:text-red-400 text-xs`},ke={class:`px-6 py-4 whitespace-nowrap`},Ae={class:`text-sm`},je={key:0,class:`text-gray-900 dark:text-white`},Me={key:1,class:`text-gray-500 dark:text-gray-400`},Ne={key:2,class:`text-gray-500 dark:text-gray-400`},Pe={key:3,class:`text-red-600 dark:text-red-400 text-xs`},B={class:`px-6 py-4 whitespace-nowrap`},Fe={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},Ie={class:`flex items-center justify-end space-x-2`},Le=[`onClick`],Re=[`onClick`],ze={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},Be={class:`flex items-center justify-between`},Ve={class:`flex-1 flex justify-between sm:hidden`},He=[`disabled`],Ue=[`disabled`],We={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},Ge={class:`text-sm text-gray-700 dark:text-gray-300`},Ke={class:`font-medium`},qe={class:`font-medium`},Je={class:`font-medium`},Ye={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},Xe=[`disabled`],Ze=[`disabled`],Qe={class:`flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0`},$e={class:`inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6`},et={class:`sm:flex sm:items-start`},tt={class:`mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/20 sm:mx-0 sm:h-10 sm:w-10`},nt={class:`mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left`},rt={class:`mt-2`},it={class:`text-sm text-gray-500 dark:text-gray-400`},at={class:`mt-5 sm:mt-4 sm:flex sm:flex-row-reverse`},ot=[`disabled`];var V=ee({__name:`Index`,setup(ee){ae();let V=ie(),H=c(!1),U=c(!1),W=c([]),G=c(null),K=c(!1),q=c(null),J=c(null),Y=s({search:``,status:``,per_page:15}),X=async(e=1)=>{H.value=!0;try{let t=new URLSearchParams({page:e.toString(),per_page:Y.per_page.toString()});Y.search&&t.append(`search`,Y.search),Y.status&&t.append(`status`,Y.status);let n=await d.get(`/projects?${t}`);W.value=n.data.data,G.value=n.data.pagination}catch{V.error(`Failed to load projects`,{title:`Error`})}finally{H.value=!1}},st=()=>{J.value&&clearTimeout(J.value),J.value=setTimeout(()=>{X(1)},300)},Z=e=>{e>=1&&G.value&&e<=G.value.last_page&&X(e)},Q=e=>e.toLocaleString(`en-US`,{minimumFractionDigits:2,maximumFractionDigits:2}),$=e=>new Date(e).toLocaleDateString(`en-US`,{year:`numeric`,month:`short`,day:`numeric`}),ct=e=>{let t={prospective:`bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`,planned:`bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`,active:`bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`,completed:`bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`,on_hold:`bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`,cancelled:`bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`};return t[e]||t.planned},lt=e=>{let t={prospective:`Prospective`,planned:`Planned`,active:`Active`,completed:`Completed`,on_hold:`On Hold`,cancelled:`Cancelled`};return t[e]||e},ut=e=>!e.deadline||e.status===`completed`||e.status===`cancelled`?!1:new Date(e.deadline)<new Date,dt=e=>{V.info(`Time tracking feature coming soon!`,{title:`Feature Preview`})},ft=e=>{q.value=e,K.value=!0},pt=async()=>{if(q.value){U.value=!0;try{await d.delete(`/projects/${q.value.id}`),V.success(`Project deleted successfully`,{title:`Success`}),K.value=!1,q.value=null,await X(G.value?.current_page||1)}catch{V.error(`Failed to delete project`,{title:`Error`})}finally{U.value=!1}}};return r(()=>{X()}),(ee,r)=>{let s=ne(`router-link`);return i(),h(`div`,S,[p(`div`,C,[r[10]||=p(`div`,null,[p(`h1`,{class:`text-2xl font-bold text-gray-900 dark:text-white`},`Projects`),p(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` Manage your client projects and track progress `)],-1),p(`div`,w,[n(s,{to:`/projects/create`,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},{default:a(()=>[n(l(y),{class:`h-5 w-5 mr-2`}),r[9]||=t(` Add Project `,-1)]),_:1,__:[9]})])]),p(`div`,T,[p(`div`,E,[p(`div`,D,[r[11]||=p(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Projects `,-1),p(`div`,O,[o(p(`input`,{id:`search`,"onUpdate:modelValue":r[0]||=e=>Y.search=e,type:`text`,placeholder:`Search by project name...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:st},null,544),[[oe,Y.search]]),n(l(ue),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),p(`div`,null,[r[13]||=p(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),o(p(`select`,{id:`status`,"onUpdate:modelValue":r[1]||=e=>Y.status=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:X},r[12]||=[e(`<option value="">All Status</option><option value="prospective">Prospective</option><option value="planned">Planned</option><option value="active">Active</option><option value="completed">Completed</option><option value="on_hold">On Hold</option><option value="cancelled">Cancelled</option>`,7)],544),[[f,Y.status]])]),p(`div`,null,[r[15]||=p(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),o(p(`select`,{id:`per-page`,"onUpdate:modelValue":r[2]||=e=>Y.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:X},r[14]||=[p(`option`,{value:`15`},`15`,-1),p(`option`,{value:`25`},`25`,-1),p(`option`,{value:`50`},`50`,-1),p(`option`,{value:`100`},`100`,-1)],544),[[f,Y.per_page]])])])]),p(`div`,k,[H.value?(i(),h(`div`,A,[n(l(v),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),r[16]||=p(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading projects...`,-1)])):W.value.length===0?(i(),h(`div`,j,[n(l(_),{class:`h-12 w-12 mx-auto text-gray-400`}),r[18]||=p(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},`No projects found`,-1),p(`p`,M,u(Y.search?`Try adjusting your search criteria.`:`Get started by creating your first project.`),1),Y.search?m(``,!0):(i(),h(`div`,N,[n(s,{to:`/projects/create`,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},{default:a(()=>[n(l(y),{class:`h-5 w-5 mr-2`}),r[17]||=t(` Add Your First Project `,-1)]),_:1,__:[17]})]))])):(i(),h(`div`,P,[p(`table`,F,[r[19]||=p(`thead`,{class:`bg-gray-50 dark:bg-gray-700`},[p(`tr`,null,[p(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Project `),p(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Client `),p(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Budget & Progress `),p(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Timeline `),p(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Status `),p(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `)])],-1),p(`tbody`,I,[(i(!0),h(ce,null,te(W.value,e=>(i(),h(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[p(`td`,L,[p(`div`,R,[p(`div`,z,[p(`div`,he,[n(l(_),{class:`h-5 w-5 text-blue-600 dark:text-blue-400`})])]),p(`div`,ge,[p(`div`,_e,u(e.name),1),p(`div`,ve,[t(` ID: `+u(e.id)+` `,1),e.estimated_hours?(i(),h(`span`,ye,` • `+u(e.estimated_hours)+`h estimated `,1)):m(``,!0)])])])]),p(`td`,be,[p(`div`,xe,u(e.client?.name||`No client`),1),p(`div`,Se,u(e.client?.client_code||``),1)]),p(`td`,Ce,[p(`div`,we,[e.budget?(i(),h(`div`,Te,` Budget: `+u(e.budget_currency)+` `+u(Q(e.budget)),1)):(i(),h(`div`,Ee,` No budget set `)),p(`div`,De,` Paid: `+u(e.payment_currency)+` `+u(Q(e.total_paid)),1),e.budget&&e.budget_exceeded?(i(),h(`div`,Oe,` Over budget! `)):m(``,!0)])]),p(`td`,ke,[p(`div`,Ae,[e.deadline?(i(),h(`div`,je,` Due: `+u($(e.deadline)),1)):m(``,!0),e.start_date?(i(),h(`div`,Me,` Started: `+u($(e.start_date)),1)):m(``,!0),e.end_date?(i(),h(`div`,Ne,` Ended: `+u($(e.end_date)),1)):m(``,!0),ut(e)?(i(),h(`div`,Pe,` Overdue! `)):m(``,!0)])]),p(`td`,B,[p(`span`,{class:re([`inline-flex px-2 py-1 text-xs font-semibold rounded-full`,ct(e.status)])},u(lt(e.status)),3)]),p(`td`,Fe,[p(`div`,Ie,[n(s,{to:`/projects/${e.id}`,class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View Project`},{default:a(()=>[n(l(pe),{class:`h-4 w-4`})]),_:2},1032,[`to`]),n(s,{to:`/projects/${e.id}/edit`,class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Project`},{default:a(()=>[n(l(me),{class:`h-4 w-4`})]),_:2},1032,[`to`]),p(`button`,{onClick:t=>dt(e),class:`text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 transition-colors duration-200`,title:`Track Time`},[n(l(fe),{class:`h-4 w-4`})],8,Le),p(`button`,{onClick:t=>ft(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Project`},[n(l(b),{class:`h-4 w-4`})],8,Re)])])]))),128))])])])),G.value&&G.value.total>0?(i(),h(`div`,ze,[p(`div`,Be,[p(`div`,Ve,[p(`button`,{onClick:r[3]||=e=>Z(G.value.current_page-1),disabled:G.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,He),p(`button`,{onClick:r[4]||=e=>Z(G.value.current_page+1),disabled:G.value.current_page>=G.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,Ue)]),p(`div`,We,[p(`div`,null,[p(`p`,Ge,[r[20]||=t(` Showing `,-1),p(`span`,Ke,u(G.value.from),1),r[21]||=t(` to `,-1),p(`span`,qe,u(G.value.to),1),r[22]||=t(` of `,-1),p(`span`,Je,u(G.value.total),1),r[23]||=t(` results `,-1)])]),p(`div`,null,[p(`nav`,Ye,[p(`button`,{onClick:r[5]||=e=>Z(G.value.current_page-1),disabled:G.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[n(l(de),{class:`h-5 w-5`})],8,Xe),p(`button`,{onClick:r[6]||=e=>Z(G.value.current_page+1),disabled:G.value.current_page>=G.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[n(l(g),{class:`h-5 w-5`})],8,Ze)])])])])])):m(``,!0)]),K.value?(i(),h(`div`,{key:0,class:`fixed inset-0 z-50 overflow-y-auto`,onClick:r[8]||=se(e=>K.value=!1,[`self`])},[p(`div`,Qe,[r[25]||=p(`div`,{class:`fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity`},null,-1),p(`div`,$e,[p(`div`,et,[p(`div`,tt,[n(l(x),{class:`h-6 w-6 text-red-600 dark:text-red-400`})]),p(`div`,nt,[r[24]||=p(`h3`,{class:`text-lg leading-6 font-medium text-gray-900 dark:text-white`},` Delete Project `,-1),p(`div`,rt,[p(`p`,it,` Are you sure you want to delete "`+u(q.value?.name)+`"? This action cannot be undone. `,1)])])]),p(`div`,at,[p(`button`,{onClick:pt,disabled:U.value,class:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[U.value?(i(),le(l(v),{key:0,class:`h-4 w-4 animate-spin mr-2`})):m(``,!0),t(` `+u(U.value?`Deleting...`:`Delete`),1)],8,ot),p(`button`,{onClick:r[7]||=e=>K.value=!1,class:`mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm transition-colors duration-200`},` Cancel `)])])])])):m(``,!0)])}}}),H=V;export{H as default};