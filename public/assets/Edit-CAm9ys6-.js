import{A as e,B as t,C as n,D as ee,G as r,I as i,J as a,K as te,M as o,N as s,O as c,P as ne,Q as l,R as u,S as d,U as f,f as p,j as re,l as ie,m as ae,p as m,r as h,s as g,t as oe,u as _,v,w as y,x as se,y as b,z as x}from"./index-Bi8CIbZL.js";import"./createLucideIcon-DepPGo-R.js";import{b as ce}from"./arrow-left-CKqWvwl9.js";import{b as le}from"./clock-BcO23CU9.js";import{b as ue}from"./eye-BkavhDxY.js";import{b as S}from"./loader-circle-D6LExQqK.js";import{b as de}from"./settings-Dk0hqCTf.js";import{b as fe}from"./triangle-alert-CtO2UswF.js";const pe={class:`space-y-6`},me={key:0,class:`flex items-center justify-center py-12`},he={class:`text-center`},ge={key:1,class:`space-y-6`},_e={class:`flex flex-col sm:flex-row sm:items-center sm:justify-between`},ve={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},ye={class:`mt-4 sm:mt-0 flex space-x-3`},be={class:`bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},xe={class:`flex items-center justify-between`},Se={class:`flex items-center`},Ce={class:`flex-shrink-0`},we={class:`ml-3`},C={class:`text-sm font-medium text-blue-800 dark:text-blue-200`},w={class:`text-sm text-blue-600 dark:text-blue-300`},T={key:0},E={class:`flex items-center space-x-2`},D={key:0,class:`inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`},O={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},k={class:`px-6 py-4 space-y-6`},Te={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ee={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},De={class:`relative`},Oe=[`value`],ke={key:0,class:`absolute right-3 top-2.5`},Ae={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},je={class:`relative`},Me=[`disabled`],Ne=[`value`],Pe={key:0,class:`absolute right-3 top-2.5`},Fe={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ie={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Le={class:`flex items-center`},Re={class:`flex items-center`},ze={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Be={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Ve={class:`px-6 py-4 space-y-6`},He={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ue={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},We={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ge={class:`border border-gray-200 dark:border-gray-600 rounded-lg p-4`},Ke={class:`flex items-center justify-between mb-4`},qe={class:`flex items-center`},Je={key:0,class:`grid grid-cols-1 md:grid-cols-3 gap-4`},Ye={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Xe={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ze={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Qe={key:0,class:`bg-gray-50 dark:bg-gray-700 rounded-lg p-4`},$e={class:`space-y-2 text-sm`},et={class:`flex justify-between`},tt={class:`text-gray-900 dark:text-white`},nt={key:0,class:`flex justify-between`},rt={class:`text-gray-600 dark:text-gray-400`},it={class:`text-gray-900 dark:text-white`},at={class:`flex justify-between font-medium border-t border-gray-200 dark:border-gray-600 pt-2`},ot={class:`text-gray-900 dark:text-white`},A={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},st={class:`px-6 py-4 space-y-6`},ct={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},lt={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ut={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},dt={key:0},ft={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},pt={key:1},mt=[`min`],ht={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},gt={key:0,class:`bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4`},_t={class:`flex`},vt={class:`ml-3`},yt={class:`text-sm text-yellow-800 dark:text-yellow-200`},bt={key:0},xt={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},St={class:`px-6 py-4 space-y-6`},Ct={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},wt={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Tt={class:`flex flex-col sm:flex-row-reverse sm:space-x-reverse sm:space-x-3 space-y-3 sm:space-y-0`},Et=[`disabled`],Dt={key:2,class:`text-center py-12`},Ot={class:`mt-6`};var j=ee({__name:`Edit`,setup(ee){let j=ie(),M=ae(),N=re(),P=l(!0),F=l(!1),I=l(!1),L=l(!1),R=l(null),z=l([]),B=l([]),V=l({}),H=l({}),U=l(``),W=ne({client_id:``,project_id:``,title:``,description:``,amount:null,currency:`INR`,has_tax:!1,tax_name:``,tax_rate:0,tax_type:`exclusive`,frequency:`one-time`,start_date:``,next_billing_date:``,end_date:``,status:`draft`,is_active:!0,tags:[],notes:``}),G=v(()=>JSON.stringify(W)!==JSON.stringify(H.value)),K=v(()=>!W.amount||!W.has_tax?W.amount||0:W.tax_type===`inclusive`&&W.tax_rate>0?W.amount/(1+W.tax_rate/100):W.amount),q=v(()=>!W.has_tax||!W.tax_rate||!W.amount?0:W.tax_type===`inclusive`?W.amount-K.value:W.amount*W.tax_rate/100),kt=v(()=>W.amount?!W.has_tax||!W.tax_rate||W.tax_type===`inclusive`?W.amount:W.amount+q.value:0),At=async()=>{P.value=!0;try{let e=await p.get(`/services/${j.params.id}`);R.value=e.data.data,Y(R.value)}catch(e){e.response?.status===404?N.error(`Service not found`,{title:`Error`}):e.response?.status===403?N.error(`You do not have permission to edit this service`,{title:`Access Denied`}):N.error(`Failed to load service details`,{title:`Error`})}finally{P.value=!1}},jt=async()=>{I.value=!0;try{let e=await p.get(`/clients`);z.value=e.data.data}catch{N.error(`Failed to load clients`,{title:`Error`})}finally{I.value=!1}},J=async()=>{if(!W.client_id){B.value=[];return}L.value=!0;try{let e=await p.get(`/projects?client_id=${W.client_id}`);B.value=e.data.data||[]}catch{N.error(`Failed to load projects`,{title:`Error`})}finally{L.value=!1}},Y=e=>{W.client_id=e.client_id?.toString()||``,W.project_id=e.project_id?.toString()||``,W.title=e.title,W.description=e.description||``,W.amount=e.amount,W.currency=e.currency,W.has_tax=e.has_tax,W.tax_name=e.tax_name||``,W.tax_rate=e.tax_rate,W.tax_type=e.tax_type,W.frequency=e.frequency,W.start_date=e.start_date,W.next_billing_date=e.next_billing_date||``,W.end_date=e.end_date||``,W.status=e.status,W.is_active=e.is_active,W.tags=e.tags||[],W.notes=e.notes||``,U.value=W.tags.join(`, `),H.value={...W}},X=()=>{if(W.frequency===`one-time`||!W.start_date){W.next_billing_date=``;return}if(W.next_billing_date)return;let e=new Date(W.start_date),t=new Date(e);switch(W.frequency){case`weekly`:t.setDate(e.getDate()+7);break;case`monthly`:t.setMonth(e.getMonth()+1);break;case`quarterly`:t.setMonth(e.getMonth()+3);break;case`half-yearly`:t.setMonth(e.getMonth()+6);break;case`yearly`:t.setFullYear(e.getFullYear()+1);break}W.next_billing_date=t.toISOString().split(`T`)[0]},Mt=()=>{W.tags=U.value.split(`,`).map(e=>e.trim()).filter(e=>e.length>0)},Z=()=>{},Q=e=>e.toLocaleString(`en-US`,{minimumFractionDigits:2,maximumFractionDigits:2}),$=e=>new Date(e).toLocaleDateString(`en-US`,{year:`numeric`,month:`long`,day:`numeric`}),Nt=e=>{let t={draft:`bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`,active:`bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`,paused:`bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`,completed:`bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`,cancelled:`bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`,pending_approval:`bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`};return t[e]||t.draft},Pt=e=>{let t={draft:`Draft`,active:`Active`,paused:`Paused`,completed:`Completed`,cancelled:`Cancelled`,pending_approval:`Pending Approval`};return t[e]||e},Ft=async()=>{if(!G.value){N.info(`No changes detected`,{title:`Info`});return}F.value=!0,V.value={};try{let e={...W};e.project_id||=null,e.description||=null,e.end_date||=null,e.notes||=null,e.has_tax||(e.tax_name=null,e.tax_rate=0),e.frequency===`one-time`?e.next_billing_date=null:e.next_billing_date||=null,e.tags.length===0&&(e.tags=null);let t=await p.put(`/services/${j.params.id}`,e);N.success(`Service updated successfully`,{title:`Success`}),R.value=t.data.data,Y(R.value)}catch(e){e.response?.status===422&&e.response?.data?.errors?(V.value=e.response.data.errors,N.error(`Please fix the form errors and try again`,{title:`Validation Error`})):e.response?.status===404?(N.error(`Service not found`,{title:`Error`}),M.push(`/services`)):e.response?.status===403?N.error(`You do not have permission to edit this service`,{title:`Access Denied`}):N.error(`Failed to update service`,{title:`Error`})}finally{F.value=!1}};return r(async()=>{await Promise.all([At(),jt()]),R.value?.client_id&&await J()}),o(()=>W.start_date,X),o(()=>W.frequency,X),(ee,r)=>{let o=te(`router-link`);return i(),x(`div`,pe,[P.value?(i(),x(`div`,me,[y(`div`,he,[n(u(S),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),r[18]||=y(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading service details...`,-1)])])):R.value?(i(),x(`div`,ge,[y(`div`,_e,[y(`div`,null,[r[19]||=y(`h1`,{class:`text-2xl font-bold text-gray-900 dark:text-white`},`Edit Service`,-1),y(`p`,ve,` Update "`+f(R.value.title)+`" details and configuration `,1)]),y(`div`,ye,[n(o,{to:`/services/${R.value.id}`,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},{default:s(()=>[n(u(ue),{class:`h-5 w-5 mr-2`}),r[20]||=t(` View Service `,-1)]),_:1,__:[20]},8,[`to`]),n(o,{to:`/services`,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},{default:s(()=>[n(u(ce),{class:`h-5 w-5 mr-2`}),r[21]||=t(` Back to Services `,-1)]),_:1,__:[21]})])]),y(`div`,be,[y(`div`,xe,[y(`div`,Se,[y(`div`,Ce,[n(u(de),{class:`h-5 w-5 text-blue-600 dark:text-blue-400`})]),y(`div`,we,[y(`p`,C,` Service ID: `+f(R.value.id)+` • `+f(R.value.frequency.charAt(0).toUpperCase()+R.value.frequency.slice(1).replace(`-`,` `)),1),y(`p`,w,[t(f(R.value.client?.name||`No client`)+` `,1),R.value.project?(i(),x(`span`,T,` • `+f(R.value.project.name),1)):b(``,!0),t(` • Created `+f($(R.value.created_at)),1)])])]),y(`div`,E,[y(`span`,{class:d([`inline-flex px-2 py-1 text-xs font-semibold rounded-full`,Nt(R.value.status)])},f(Pt(R.value.status)),3),R.value.is_active?b(``,!0):(i(),x(`span`,D,` Inactive `))])])]),y(`form`,{onSubmit:oe(Ft,[`prevent`]),class:`space-y-6`},[y(`div`,O,[r[32]||=y(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Basic Information`),y(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` Essential service details and client assignment `)],-1),y(`div`,k,[y(`div`,Te,[y(`div`,null,[r[22]||=y(`label`,{for:`title`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Service Title * `,-1),c(y(`input`,{id:`title`,"onUpdate:modelValue":r[0]||=e=>W.title=e,type:`text`,required:``,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.title}]),placeholder:`Enter service title`},null,2),[[g,W.title]]),V.value.title?(i(),x(`p`,Ee,f(Array.isArray(V.value.title)?V.value.title[0]:V.value.title),1)):b(``,!0)]),y(`div`,null,[r[24]||=y(`label`,{for:`client_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Client * `,-1),y(`div`,De,[c(y(`select`,{id:`client_id`,"onUpdate:modelValue":r[1]||=e=>W.client_id=e,required:``,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.client_id}]),onChange:J},[r[23]||=y(`option`,{value:``},`Select a client`,-1),(i(!0),x(_,null,a(z.value,e=>(i(),x(`option`,{key:e.id,value:e.id},f(e.name)+` (`+f(e.client_code)+`) `,9,Oe))),128))],34),[[h,W.client_id]]),I.value?(i(),x(`div`,ke,[n(u(S),{class:`h-5 w-5 animate-spin text-gray-400`})])):b(``,!0)]),V.value.client_id?(i(),x(`p`,Ae,f(Array.isArray(V.value.client_id)?V.value.client_id[0]:V.value.client_id),1)):b(``,!0)]),y(`div`,null,[r[26]||=y(`label`,{for:`project_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Project (Optional) `,-1),y(`div`,je,[c(y(`select`,{id:`project_id`,"onUpdate:modelValue":r[2]||=e=>W.project_id=e,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.project_id}]),disabled:!W.client_id||L.value},[r[25]||=y(`option`,{value:``},`No specific project`,-1),(i(!0),x(_,null,a(B.value,e=>(i(),x(`option`,{key:e.id,value:e.id},f(e.name),9,Ne))),128))],10,Me),[[h,W.project_id]]),L.value?(i(),x(`div`,Pe,[n(u(S),{class:`h-5 w-5 animate-spin text-gray-400`})])):b(``,!0)]),V.value.project_id?(i(),x(`p`,Fe,f(Array.isArray(V.value.project_id)?V.value.project_id[0]:V.value.project_id),1)):b(``,!0)]),y(`div`,null,[r[28]||=y(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Service Status * `,-1),c(y(`select`,{id:`status`,"onUpdate:modelValue":r[3]||=e=>W.status=e,required:``,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.status}])},r[27]||=[e(`<option value="draft">Draft</option><option value="active">Active</option><option value="paused">Paused</option><option value="completed">Completed</option><option value="cancelled">Cancelled</option><option value="pending_approval">Pending Approval</option>`,6)],2),[[h,W.status]]),V.value.status?(i(),x(`p`,Ie,f(Array.isArray(V.value.status)?V.value.status[0]:V.value.status),1)):b(``,!0)]),y(`div`,Le,[y(`label`,Re,[c(y(`input`,{"onUpdate:modelValue":r[4]||=e=>W.is_active=e,type:`checkbox`,class:`h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700`},null,512),[[m,W.is_active]]),r[29]||=y(`span`,{class:`ml-2 text-sm text-gray-700 dark:text-gray-300`},`Service is Active`,-1)]),r[30]||=y(`p`,{class:`ml-2 text-sm text-gray-500 dark:text-gray-400`},` (Controls billing availability) `,-1)])]),y(`div`,null,[r[31]||=y(`label`,{for:`description`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Service Description `,-1),c(y(`textarea`,{id:`description`,"onUpdate:modelValue":r[5]||=e=>W.description=e,rows:`3`,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.description}]),placeholder:`Describe what this service includes...`},null,2),[[g,W.description]]),V.value.description?(i(),x(`p`,ze,f(Array.isArray(V.value.description)?V.value.description[0]:V.value.description),1)):b(``,!0)])])]),y(`div`,Be,[r[45]||=y(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Pricing Information`),y(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` Update service pricing and tax configuration `)],-1),y(`div`,Ve,[y(`div`,He,[y(`div`,null,[r[33]||=y(`label`,{for:`amount`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Service Amount * `,-1),c(y(`input`,{id:`amount`,"onUpdate:modelValue":r[6]||=e=>W.amount=e,type:`number`,step:`0.01`,min:`0`,required:``,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.amount}]),placeholder:`0.00`,onInput:Z},null,34),[[g,W.amount,void 0,{number:!0}]]),V.value.amount?(i(),x(`p`,Ue,f(Array.isArray(V.value.amount)?V.value.amount[0]:V.value.amount),1)):b(``,!0)]),y(`div`,null,[r[35]||=y(`label`,{for:`currency`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Currency * `,-1),c(y(`select`,{id:`currency`,"onUpdate:modelValue":r[7]||=e=>W.currency=e,required:``,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.currency}])},r[34]||=[e(`<option value="USD">USD - US Dollar</option><option value="EUR">EUR - Euro</option><option value="GBP">GBP - British Pound</option><option value="CAD">CAD - Canadian Dollar</option><option value="AUD">AUD - Australian Dollar</option><option value="INR">INR - Indian Rupee</option><option value="JPY">JPY - Japanese Yen</option>`,7)],2),[[h,W.currency]]),V.value.currency?(i(),x(`p`,We,f(Array.isArray(V.value.currency)?V.value.currency[0]:V.value.currency),1)):b(``,!0)])]),y(`div`,Ge,[y(`div`,Ke,[r[37]||=y(`h4`,{class:`text-sm font-medium text-gray-900 dark:text-white`},`Tax Configuration`,-1),y(`label`,qe,[c(y(`input`,{"onUpdate:modelValue":r[8]||=e=>W.has_tax=e,type:`checkbox`,class:`h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700`,onChange:Z},null,544),[[m,W.has_tax]]),r[36]||=y(`span`,{class:`ml-2 text-sm text-gray-700 dark:text-gray-300`},`Apply Tax`,-1)])]),W.has_tax?(i(),x(`div`,Je,[y(`div`,null,[r[38]||=y(`label`,{for:`tax_name`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Tax Name `,-1),c(y(`input`,{id:`tax_name`,"onUpdate:modelValue":r[9]||=e=>W.tax_name=e,type:`text`,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.tax_name}]),placeholder:`GST, VAT, Sales Tax`},null,2),[[g,W.tax_name]]),V.value.tax_name?(i(),x(`p`,Ye,f(Array.isArray(V.value.tax_name)?V.value.tax_name[0]:V.value.tax_name),1)):b(``,!0)]),y(`div`,null,[r[39]||=y(`label`,{for:`tax_rate`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Tax Rate (%) `,-1),c(y(`input`,{id:`tax_rate`,"onUpdate:modelValue":r[10]||=e=>W.tax_rate=e,type:`number`,step:`0.01`,min:`0`,max:`100`,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.tax_rate}]),placeholder:`18.00`,onInput:Z},null,34),[[g,W.tax_rate,void 0,{number:!0}]]),V.value.tax_rate?(i(),x(`p`,Xe,f(Array.isArray(V.value.tax_rate)?V.value.tax_rate[0]:V.value.tax_rate),1)):b(``,!0)]),y(`div`,null,[r[41]||=y(`label`,{for:`tax_type`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Tax Type `,-1),c(y(`select`,{id:`tax_type`,"onUpdate:modelValue":r[11]||=e=>W.tax_type=e,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.tax_type}]),onChange:Z},r[40]||=[y(`option`,{value:`exclusive`},`Exclusive (added to amount)`,-1),y(`option`,{value:`inclusive`},`Inclusive (included in amount)`,-1)],34),[[h,W.tax_type]]),V.value.tax_type?(i(),x(`p`,Ze,f(Array.isArray(V.value.tax_type)?V.value.tax_type[0]:V.value.tax_type),1)):b(``,!0)])])):b(``,!0)]),W.amount>0?(i(),x(`div`,Qe,[r[44]||=y(`h4`,{class:`text-sm font-medium text-gray-900 dark:text-white mb-3`},`Price Summary`,-1),y(`div`,$e,[y(`div`,et,[r[42]||=y(`span`,{class:`text-gray-600 dark:text-gray-400`},`Base Amount:`,-1),y(`span`,tt,f(W.currency)+` `+f(Q(K.value)),1)]),W.has_tax&&W.tax_rate>0?(i(),x(`div`,nt,[y(`span`,rt,f(W.tax_name||`Tax`)+` (`+f(W.tax_rate)+`%): `,1),y(`span`,it,f(W.currency)+` `+f(Q(q.value)),1)])):b(``,!0),y(`div`,at,[r[43]||=y(`span`,{class:`text-gray-900 dark:text-white`},`Total Amount:`,-1),y(`span`,ot,f(W.currency)+` `+f(Q(kt.value)),1)])])])):b(``,!0)])]),y(`div`,A,[r[55]||=y(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Billing Configuration`),y(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` Update billing frequency and scheduling `)],-1),y(`div`,st,[y(`div`,ct,[y(`div`,null,[r[47]||=y(`label`,{for:`frequency`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Billing Frequency * `,-1),c(y(`select`,{id:`frequency`,"onUpdate:modelValue":r[12]||=e=>W.frequency=e,required:``,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.frequency}]),onChange:X},r[46]||=[e(`<option value="one-time">One-time</option><option value="weekly">Weekly</option><option value="monthly">Monthly</option><option value="quarterly">Quarterly</option><option value="half-yearly">Half-yearly</option><option value="yearly">Yearly</option>`,6)],34),[[h,W.frequency]]),V.value.frequency?(i(),x(`p`,lt,f(Array.isArray(V.value.frequency)?V.value.frequency[0]:V.value.frequency),1)):b(``,!0)]),y(`div`,null,[r[48]||=y(`label`,{for:`start_date`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Start Date * `,-1),c(y(`input`,{id:`start_date`,"onUpdate:modelValue":r[13]||=e=>W.start_date=e,type:`date`,required:``,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.start_date}]),onChange:X},null,34),[[g,W.start_date]]),V.value.start_date?(i(),x(`p`,ut,f(Array.isArray(V.value.start_date)?V.value.start_date[0]:V.value.start_date),1)):b(``,!0)]),W.frequency===`one-time`?b(``,!0):(i(),x(`div`,dt,[r[49]||=y(`label`,{for:`next_billing_date`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Next Billing Date `,-1),c(y(`input`,{id:`next_billing_date`,"onUpdate:modelValue":r[14]||=e=>W.next_billing_date=e,type:`date`,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.next_billing_date}])},null,2),[[g,W.next_billing_date]]),V.value.next_billing_date?(i(),x(`p`,ft,f(Array.isArray(V.value.next_billing_date)?V.value.next_billing_date[0]:V.value.next_billing_date),1)):b(``,!0),r[50]||=y(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` Can be manually adjusted or auto-calculated `,-1)])),W.frequency===`one-time`?b(``,!0):(i(),x(`div`,pt,[r[51]||=y(`label`,{for:`end_date`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` End Date (Optional) `,-1),c(y(`input`,{id:`end_date`,"onUpdate:modelValue":r[15]||=e=>W.end_date=e,type:`date`,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.end_date}]),min:W.start_date},null,10,mt),[[g,W.end_date]]),V.value.end_date?(i(),x(`p`,ht,f(Array.isArray(V.value.end_date)?V.value.end_date[0]:V.value.end_date),1)):b(``,!0),r[52]||=y(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` Leave empty for indefinite billing `,-1)]))]),R.value.billing_count>0?(i(),x(`div`,gt,[y(`div`,_t,[n(u(le),{class:`h-5 w-5 text-yellow-400`}),y(`div`,vt,[y(`p`,yt,[r[53]||=y(`strong`,null,`Billing History:`,-1),t(` This service has been billed `+f(R.value.billing_count)+` time`+f(R.value.billing_count===1?``:`s`)+`. `,1),R.value.last_billed_at?(i(),x(`span`,bt,` Last billed on `+f($(R.value.last_billed_at))+`. `,1)):b(``,!0)]),r[54]||=y(`p`,{class:`text-sm text-yellow-700 dark:text-yellow-300 mt-1`},` Changes to billing frequency will affect future billing cycles only. `,-1)])])])):b(``,!0)])]),y(`div`,xt,[r[59]||=y(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Additional Information`),y(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` Update tags and internal notes for service management `)],-1),y(`div`,St,[y(`div`,null,[r[56]||=y(`label`,{for:`tags`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Tags `,-1),c(y(`input`,{id:`tags`,"onUpdate:modelValue":r[16]||=e=>U.value=e,type:`text`,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.tags}]),placeholder:`hosting, maintenance, design (comma-separated)`,onInput:Mt},null,34),[[g,U.value]]),V.value.tags?(i(),x(`p`,Ct,f(Array.isArray(V.value.tags)?V.value.tags[0]:V.value.tags),1)):b(``,!0),r[57]||=y(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` Add tags separated by commas for better organization `,-1)]),y(`div`,null,[r[58]||=y(`label`,{for:`notes`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Internal Notes `,-1),c(y(`textarea`,{id:`notes`,"onUpdate:modelValue":r[17]||=e=>W.notes=e,rows:`3`,class:d([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,{"border-red-500 focus:ring-red-500 focus:border-red-500":V.value.notes}]),placeholder:`Add any internal notes about this service...`},null,2),[[g,W.notes]]),V.value.notes?(i(),x(`p`,wt,f(Array.isArray(V.value.notes)?V.value.notes[0]:V.value.notes),1)):b(``,!0)])])]),y(`div`,Tt,[y(`button`,{type:`submit`,disabled:F.value||!G.value,class:`w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[F.value?(i(),se(u(S),{key:0,class:`h-5 w-5 animate-spin mr-2`})):b(``,!0),t(` `+f(F.value?`Updating Service...`:`Update Service`),1)],8,Et),n(o,{to:`/services/${R.value.id}`,class:`w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 dark:border-gray-600 text-base font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},{default:s(()=>r[60]||=[t(` Cancel `,-1)]),_:1,__:[60]},8,[`to`])])],32)])):(i(),x(`div`,Dt,[n(u(fe),{class:`h-12 w-12 mx-auto text-red-400`}),r[62]||=y(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},`Failed to load service`,-1),r[63]||=y(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` The service could not be found or you don't have permission to edit it. `,-1),y(`div`,Ot,[n(o,{to:`/services`,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},{default:s(()=>r[61]||=[t(` Back to Services `,-1)]),_:1,__:[61]})])]))])}}}),M=j;export{M as default};